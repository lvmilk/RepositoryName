<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Merlion Airlines Always by Your Side</title>
    </h:head>
    <h:body>
        <ui:decorate template="./../resources/template/crmclientTemplate/crmclient_skeleton.xhtml">
        </ui:decorate>
        <!--             <ui:define name="top">
                        <ui:include src="./../resources/template/crmclientTemplate/topFragment.xhtml"></ui:include>
                    </ui:define>-->

        <h:form style="margin-top: 5px;"> 

            <div>
                <p:menubar styleClass="topMenu" style="text-align: left; width: 80% !important; margin-left: 10% !important;" >
                    <p:menuitem>
                        <h:link outcome="/CRMClient/home.xhtml">
                            <!--<h:graphicImage value="/images/brand_no background.png" height="40" />-->
                            <h:graphicImage value="/images/banner_logo.png" height="45"/>
                        </h:link>
                    </p:menuitem>

                    <!--                <p:menuitem value="Contact us" style="margin-right: 30px;" url="/CRMClient/contactus.xhtml" />
                    
                                    <p:menuitem value="Create my account"  style="margin-right: 30px;" url="/CRMClient/createMemberAccount.xhtml" />
                    
                                    <p:menuitem value="My account"  style="margin-right: 80px;" url="/CRMClient/memberLogin.xhtml" />-->

                    <f:facet name="options">
                        <p:inputText style="margin-right:10px" placeholder="Search"/>
                        <p:commandButton value="Contact us"  action="#{comb.goToContactUs}" icon="ui-icon-mail-closed" style="margin-right: 10px;" />
                        <p:commandButton value="Create my account"  style="margin-right: 10px;"  icon="ui-icon-person" />
                        <p:commandButton value="My Account" icon="ui-icon-person" styleClass="buttonMenu" />
                    </f:facet>

                </p:menubar>
            </div>

            <p:separator style="text-align: left; width: 80% !important; margin-left: 10% !important;"/>

            <p:menubar styleClass = "funcMenu" style="text-align: left; width: 80% !important; margin-left: 10% !important;">

                <p:menuitem value="HOME"  style="margin-left: 50px !important; margin-right: 50px !important;" url="/CRMClient/home.xhtml" />

                <p:menuitem value="MAKE A BOOKING" style="margin-right: 50px !important;" url="/CRMClient/BookFlight1.xhtml" />

                <p:menuitem value="CHECK-IN"  style="margin-right: 50px !important;" url="/CRMClient/checkin.xhtml" />

                <p:menuitem value="MY RESERVATIONS"  style="margin-right: 50px !important;" url="/CRMClient/QueryReservation1.xhtml" />

                <p:submenu label="INFORMATION"  style="margin-right: 80px !important; float: right !important;" >
                    <p:menuitem value="BAGGAGE" url="/CMIpages/home.xhtml"/>
                    <p:menuitem value="FLIGHT AND AIRPORT INFO" url="/CMIpages/home.xhtml"/>
                    <p:menuitem value="CABIN AND IN-FLIGHT SERVICES" url="/CMIpages/home.xhtml"/>
                    <p:menuitem value="THE FLYING PROGRAM" url="/CMIpages/home.xhtml"/>
                    <p:menuitem value="BEST OFFERS AND PROMOTIONS" url="/CMIpages/home.xhtml"/>
                </p:submenu>

            </p:menubar>

        </h:form>

        <!--            <ui:define name="center">
                        <ui:include src="./../resources/template/crmclientTemplate/bookFlightCenter3.xhtml"></ui:include>
                    </ui:define>-->

        <h:form style="text-align: left; width: 80% !important; margin-left: 10% !important; margin-bottom:10px; margin-top: 5px;">
            <p:panel id="departSpecific" header="Fill In Passenger Information" style="width: 100%">

                <ui:repeat var="psg" value="#{enterPsg.passengerList}" varStatus="myStatus">
                    <p:growl id="msgs" showDetail="true" />

                    <br/>
                    <p:outputLabel value="Passenger#{myStatus.index+1}" style="font-weight: bold; font-size: medium !important;"/>
                    <h:panelGrid columns="2" cellpadding="12" columnClasses="ui-grid-col-5, ui-grid-col-7" style="width: 50%">

                        <p:outputLabel for="title" value="Title:" />
                        <h:selectOneMenu id="title" value="#{psg.title}" style="width: 100px">
                            <f:selectItem itemValue="Mr" itemLabel="Mr" />
                            <f:selectItem itemValue="Dr" itemLabel="Dr" />
                            <f:selectItem itemValue="Mdm" itemLabel="Mdm" />
                            <f:selectItem itemValue="Miss" itemLabel="Miss" />
                            <f:selectItem itemValue="Mrs" itemLabel="Mrs" />
                            <f:selectItem itemValue="Ms" itemLabel="Ms" />
                            <f:selectItem itemValue="Prof" itemLabel="Prof" />

                        </h:selectOneMenu>

                        <p:outputLabel  value="First Name: " />
                        <p:inputText value="#{psg.firstName}" required="true" requiredMessage="Please enter first name" style="width: 170px"/>

                        <p:outputLabel  value="Last Name: " />
                        <p:inputText value="#{psg.lastName}" required="true" requiredMessage="Please enter last name" style="width: 170px"/>            

                        <p:outputLabel  value="Passport: " />
                        <p:inputText value="#{psg.passport}" required="true" requiredMessage="Please enter passport number" style="width: 170px"/>       


                        <p:outputLabel for="ffpProgram" value="Frequent Flyer Programme:" />
                        <h:selectOneMenu id="ffpProgram" value="#{psg.ffpName}" style="width: 190px">
                            <f:selectItem itemValue="TFP" itemLabel="MAS - The Flying Program(TFP) " />
                        </h:selectOneMenu>

                        <p:outputLabel  value="Frequent Flyer Membership Number: "/>
                        <p:inputText value="#{psg.ffpNo}" style="width: 170px"/>    

                        <p:separator/>
                        <p:separator/>
                    </h:panelGrid>

                </ui:repeat>

                <p:outputLabel value="Contact Information - Booker" style="font-weight: bold; font-size: medium !important;"/>
                <br/><br/>
                <p:selectOneRadio id="memberStatus" value="#{enterPsg.selectedOption}" required="true" requiredMessage="Please select either member or non-member" >
                    <f:selectItem itemLabel="Member" itemValue="true" />
                    <f:selectItem itemLabel="Non-Member" itemValue="false" />
                    <p:ajax  event="click" listener="#{enterPsg.onSelectReturn}" update="memberPanel, nonMemberPanel"/>
                </p:selectOneRadio>

                <p:panel id="memberPanel"  visible="#{enterPsg.visiMember}" style="margin-bottom:20px">
                    <h:panelGrid  columns="2"   cellpadding="10">
                        <p:outputLabel  value="Member Account: " />
                        <p:inputText value="#{enterPsg.bookerId}" required="#{enterPsg.visiMember}"/>

                        <p:outputLabel  value="Email: " />
                        <p:inputText value="#{enterPsg.existEmail}" required="#{enterPsg.visiMember}" validatorMessage="Invalid email format" requiredMessage="please enter email address">
                            <f:validateRegex pattern="(^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$)?" />
                        </p:inputText>
                    </h:panelGrid>
                </p:panel>

                <p:panel id="nonMemberPanel"  visible="#{enterPsg.visiNonMember}" style="margin-bottom:20px">
                    <h:panelGrid  columns="2"   cellpadding="10">

                        <p:outputLabel for="title" value="Title:" />
                        <h:selectOneMenu id="title" value="#{enterPsg.title}">
                            <f:selectItem itemValue="Mr" itemLabel="Mr" />
                            <f:selectItem itemValue="Dr" itemLabel="Dr" />
                            <f:selectItem itemValue="Mdm" itemLabel="Mdm" />
                            <f:selectItem itemValue="Miss" itemLabel="Miss" />
                            <f:selectItem itemValue="Mrs" itemLabel="Mrs" />
                            <f:selectItem itemValue="Ms" itemLabel="Ms" />
                            <f:selectItem itemValue="Prof" itemLabel="Prof" />

                        </h:selectOneMenu>

                        <p:outputLabel  value="First Name: " />
                        <p:inputText value="#{enterPsg.firstName}" required="#{enterPsg.visiNonMember}" requiredMessage="please enter first name"/>

                        <p:outputLabel  value="Last Name: " />
                        <p:inputText value="#{enterPsg.lastName}" required="#{enterPsg.visiNonMember}" requiredMessage="please enter last name"/>

                        <p:outputLabel  value="Address: " />
                        <p:inputText value="#{enterPsg.address}" required="#{enterPsg.visiNonMember}" requiredMessage="please enter address"/>

                        <p:outputLabel  value="Email Address: " />
                        <p:inputText value="#{enterPsg.email}" required="#{enterPsg.visiNonMember}" validatorMessage="Invalid email format" requiredMessage="please enter email address">
                            <f:validateRegex pattern="(^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$)?" />
                        </p:inputText>

                        <p:outputLabel  value="Contact Number: " />
                        <p:inputText value="#{enterPsg.contactNo}" required="#{enterPsg.visiNonMember}"/>   
                    </h:panelGrid>
                </p:panel>

                <p:commandButton value="Confirm" actionListener="#{enterPsg.makeReserve}" icon="ui-icon-check" />
            </p:panel>
        </h:form>


        <!--            <ui:define name="bottom">
                        <ui:include src="./../resources/template/crmclientTemplate/bottomFragment.xhtml"></ui:include>
                    </ui:define>-->

        <h:form style="margin-top: 5px;">
            <p:menubar styleClass = "bottomMenu" style="text-align: left; width: 80% !important; margin-left: 10% !important;">

                <!--                <p:submenu label="MAS "  style="margin-left: 50px !important; margin-right: 50px !important;" >
                                    <p:menuitem value="Contact us" url="/CRMClient/contactus.xhtml"/>
                                    <p:menuitem value="Baggage service and lost items" />
                                    <p:menuitem value="Claims" />
                                    <p:menuitem value="Suggestions" />
                                    <p:menuitem value="Our commitments" />
                                </p:submenu>-->

                <p:menuitem value="ABOUT MERLION AIRLINES" style="margin-left: 30px !important; margin-right: 50px !important;" url="/CRMClient/about.xhtml" />

                <p:menuitem value="PRIVACY POLICY"  style="margin-left: 80px !important; margin-right: 50px !important;" url="/CRMClient/policy.xhtml" />


                <p:menuitem value="OPTIONAL SERVICE AND FEES"  style="margin-left: 80px !important; margin-right: 50px !important;" url="/CRMClient/home.xhtml" />


                <p:menuitem value="PASSENGER FAQs"  style="margin-left: 80px !important; margin-right: 50px !important;" url="/CRMClient/home.xhtml" />

                <p:menuitem value="CAREERS"  style="margin-left: 80px !important; margin-right: 10px !important;" url="/CRMClient/home.xhtml" />


            </p:menubar>

            <p:separator style="text-align: left; width: 80% !important; margin-left: 10% !important;"/>


            <div style="margin-top:40px; width: 80% !important; margin-left: 10%;">
                <p >
                    <center>
                        <font color="#2C2E35" size="1.5px">About Merlion Airlines | Corporate Social Responsibility | Partners | Press Room | Careers | Legal Information | Site Map | Contact Us | Feedback </font>
                    </center>
                </p>
                <p><center><font color="#2C2E35" size="1.5px">&copy; 2015 NUS IS3102 - AY 2015/2016 Sem 1. All Rights Reserved.</font></center></p>
            </div>

        </h:form>



    </h:body>
</html>


