<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">

    <h:head>
        <title>Assign Fleet</title>
    </h:head>
    <h:body>
            <h:panelGroup layout="block" styleClass="centerExample">
                <!-- EXAMPLE-SOURCE-START -->
                <p:growl id="growl" showSummary="true" showDetail="false" autoUpdate="true"/>

                <pe:timeline id="timeline" value="#{FAMB.model}" var="booking"
                             timeZone="#{FAMB.timeZone}"
                             zoomMax="#{FAMB.zoomMax}"
                             start="#{FAMB.start}"
                             end="#{FAMB.end}"
                             editable="true" timeChangeable="#{FAMB.timeChangeable}"
                             showButtonNew="true" minHeight="200" widgetVar="timelineWdgt">
                    <p:ajax event="changed" update="@none" listener="#{FAMB.onChange}"/>
                    <p:ajax event="edit" update=":dialogForm:detailsBookingInner"
                            listener="#{FAMB.onEdit}"
                            oncomplete="PF('detailsBookingWdgt').show()"/>
                    <p:ajax event="add" update=":dialogForm:detailsBookingInner"
                            listener="#{FAMB.onAdd}"
                            oncomplete="PF('detailsBookingWdgt').show()"/>
                    <p:ajax event="delete" update=":dialogForm:deleteBookingInner"
                            listener="#{FAMB.onDelete}"
                            onstart="PF('timelineWdgt').cancelDelete()" oncomplete="PF('deleteBookingWdgt').show()"/>

<!--                    <h:panelGrid columns="1">
                        <h:outputText value="Room: #{booking.roomNumber}"/>
                        <h:outputText value="Category: #{booking.category.label}"/>
                        <h:outputText value="Phone: #{booking.phone}"/>
                    </h:panelGrid>      -->
                </pe:timeline>

                <p:commandButton value="Toggle TimeChangeable" process="@this" update="timeline" style="margin-top:15px"
                                 action="#{FAMB.toggleTimeChangeable}"/>

                <!-- EXAMPLE-SOURCE-END -->
            </h:panelGroup>

    </h:body>
</html>

